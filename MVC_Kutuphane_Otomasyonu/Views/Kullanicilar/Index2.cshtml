@model MVC_Kutuphane_Otomasyonu_Entities.Model.ViewModel.KullaniciRolViewModel
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="row">
    <div class="col-lg">
        <div class="ibox">
            <div class="ibox-head">
                Kullanıcı Listesi
            </div>
            <div class="ibox-body">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>Kullanıcı</th>
                            <th>Roller</th>
                            <th>Adı Soyadı</th>
                            <th>Telefon</th>
                            <th>E-mail</th>
                            <th>Kayıt Tarihi</th>
                            <th>İşlemler</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var kullanici in Model.Kullanicilar)
                        {
                            <tr>
                                <td>@kullanici.ID</td>
                                <td class="dropdown-btn"><b>@kullanici.KullanıcıAdı</b></td>

                                <td class="dropdown-container">
                                    <ul style="list-style-type:none">
                                        @foreach (var rol in kullanici.KullanıcıRolleri)
                                        {
                                            <li>
                                                <div style="float:left;margin-top:8px">
                                                    @rol.Roller.Rol
                                                </div>
                                                <div style="float:right;margin-top:4px">
                                                    @Html.ActionLink("Düzenle", "Duzenle","KullaniciRolleri", new { id = rol.ID }, new { @class = "btn btn-primary btn-sm" })

                                                    @Html.ActionLink("Sil", "Sil", "KullaniciRolleri",
                                                        new { id = rol.ID },
                                                        new
                                                        {
                                                            @class = "btn btn-danger btn-sm",
                                                            onclick = "return confirm('Bu kullanıcıyı silmek istediğinize emin misiniz?');"
                                                        })
                                                </div>
                                            </li>
                                        }
                                    <li style="margin-top: 10px;">
                                        @Html.ActionLink("Yeni", "Ekle", "KullaniciRolleri",
                                            new { id = kullanici.ID },
                                            new
                                            {
                                                @class = "btn btn-info btn-sm",
                                                style = "font-weight: bold;"
                                            })
                                    </ul>
                                </td>

                                <td>@kullanici.AdSoyad</td>
                                <td>@kullanici.Telefon</td>
                                <td>@kullanici.Email</td>
                                <td>@kullanici.KayitTarihi</td>
                                <td>
                                    @Html.ActionLink("Düzenle", "Duzenle", new { id = kullanici.ID }, new { @class = "btn btn-primary btn-sm" })

                                    @Html.ActionLink("Sil", "Sil", "Kullanicilar",
                                        new { id = kullanici.ID },
                                        new
                                        {
                                            @class = "btn btn-danger btn-sm",
                                            onclick = "return confirm('Bu kullanıcıyı silmek istediğinize emin misiniz?');"
                                        })
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>

                <div class="form-group">
                    @Html.ActionLink("Yeni", "Ekle", null, new { @class = "btn btn-primary btn-sm" })
                </div>
            </div>
        </div>
    </div>
</div>
<link href="~/Style.css" rel="stylesheet" />
<script src="~/JavaScript.js"></script>